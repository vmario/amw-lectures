<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>reveal.js</title>

		<link rel="stylesheet" href="dist/reset.css">
		<link rel="stylesheet" href="dist/reveal.css">
		<link rel="stylesheet" href="dist/theme/moon.css">

		<!-- Theme used for syntax highlighted code -->
		<link rel="stylesheet" href="plugin/highlight/monokai.css">
	</head>
	<body>
		<div class="reveal"><div class="slides">
			<section>
				<h1>Zegary w systemach wbudowanych</h1>
			</section>
			<section>
				<h2>Układy asynchroniczne i synchroniczne</h2>
			</section>
			<section>
				<h3>Układy asynchroniczne</h3>
			</section>
			<section>
				<img src="media/asynchronous.png" class="r-stretch">
			</section>
			<section>
				<h3>Układy asynchroniczne</h3>
				<ul>
					<li class="fragment">szybkie
					<li class="fragment">energooszczędne
					<li class="fragment">trudne w projektowaniu
				</ul>
			</section>
			<section>
				<h3>Układy synchroniczne</h3>
			</section>
			<section>
				<img src="media/synchronous.png" class="r-stretch">
			</section>
			<section>
				<h3>Układy synchroniczne</h3>
				<ul>
					<li class="fragment">wolniejsze
					<li class="fragment">zużywają energię cały czas
					<li class="fragment">łatwiejsze do zaprojektowania
				</ul>
			</section>
			<section>
				<h3>Programowanie asynchroniczne <sup>⁕</sup></h3>
				<ul>
					<li class="fragment">nie ma związku z układami asynchronicznymi
					<li class="fragment">pozwala obsługiwać wiele zdarzeń o stosunkowo długim czasie wykonania bez blokowania programu
				</ul>
			</section>
			<section>
				<h2>Źródła zegarowe</h2>
			</section>
			<section>
				<h3>Oscylator RC</h3>
			</section>
			<section>
				<img src="media/PIC16F5X RC Oscillator.png" class="r-stretch">
			</section>
			<section>
				<h3>Oscylator RC</h3>
				<ul>
					<li class="fragment">tani
					<li class="fragment">mały (możliwy do wbudowania w układ scalony)
					<li class="fragment">energooszczędny
					<li class="fragment">niedokładny
				</ul>
			</section>
			<section>
				<img src="media/ATMega32 Block Diagram.png" class="r-stretch">
			</section>
			<section>
				<h3>Rezonator kwarcowy (XO/XTAL)</h3>
				<ul>
					<li class="fragment">droższy
					<li class="fragment">większy
					<li class="fragment">zużywa więcej energii
					<li class="fragment">bardzo dokładny (zwłaszcza VCXO, TCXO i OCXO)
				</ul>
			</section>
			<section>
				<h3>Rezonatory kwarcowe</h3>
				<dl>
					<dt class="fragment" data-fragment-index="1">VCXO
						<dd class="fragment" data-fragment-index="1">Voltage-Controlled Crystal Oscillator
					<dt class="fragment" data-fragment-index="2">TCXO
						<dd class="fragment" data-fragment-index="2">Temperature-Compensated Crystal Oscillator
					<dt class="fragment" data-fragment-index="3">OCXO
						<dd class="fragment" data-fragment-index="3">Oven-Controlled Crystal Oscillator
				</dl>
			</section>
			<section>
				<img src="media/Quartz_crystal_internal.jpg" class="r-stretch">
			</section>
			<section>
				<img src="media/ocxo.gif" class="r-stretch">
			</section>
			<section>
				<h3>Wzorzec rubidowy</h3>
				<ul>
					<li class="fragment">nieludzko dokładny
					<li class="fragment">bardzo drogi
					<li class="fragment">zużywa dużo energii
				</ul>
			</section>
			<section>
				<img src="media/Rubidium.jpg" class="r-stretch">
			</section>
			<section>
				<h3>Odbiornik GPS — <em>1PPS</em></h3>
				<ul>
					<li class="fragment">bardzo dokładny
					<li class="fragment">stosunkowo tani
					<li class="fragment">ma średnie zapotrzebowanie na energię
					<li class="fragment">dostarcza również czas rzeczywisty
					<li class="fragment">wymaga sygnału z satelity
				</ul>
			</section>
			<section>
				<img src="media/gps.jpg" class="r-stretch">
			</section>
			<section>
				<h3>Przykładowe dokładności wzorców czasu</h3>
				<table>
					<thead><tr><th>Źródło</th><th>Dokładność</th><th>Odchyłka</th></tr></thead>
					<tbody>
						<tr><td>RC</td><td>±1%</td><td class="fragment">7h/miesiąc</td></tr>
						<tr><td>XO</td><td>±20ppm</td><td class="fragment">51s/miesiąc</td></tr>
						<tr><td>OCXO</td><td>±100ppb</td><td class="fragment">3s/rok</td></tr>
						<tr><td>Rb</td><td>±1,5ppb</td><td class="fragment">47ms/rok</td></tr>
					</tbody>
				</table>
			</section>
			<section>
				<h2>Regulacja szybkości zegara</h2>
			</section>
			<section>
				<h3>Szybki zegar \(\Rightarrow\) problem</h3>
				<ul>
					<li class="fragment">duże zużycie energii
					<li class="fragment">wydzielanie ciepła
					<li class="fragment">generowanie zakłóceń
					<li class="fragment">zjawiska falowe
					<li class="fragment">czas propagacji
				</ul>
			</section>
			<section>
				<h3>Dzielnik częstotliwości — <em>divider</em></h3>
				<ul>
					<li class="fragment">najprościej podzielić częstotliwość przez \(2^n\)
					<li class="fragment">możliwe jest uzyskanie podziału także przez \(n\)
					<li class="fragment">nie ma możliwości zwiększenia częstotliwości
					<li class="fragment">wymaga zewnętrznego źródła zegara
				</ul>
			</section>
			<section>
				<img src="media/bincount.png" class="r-stretch">
			</section>
			<section>
				<img src="media/counter.svg" class="r-stretch" style="background-color: white">
			</section>
			<section>
				<h3>VCO — <em>Voltage-Controlled Oscillator</em></h3>
			</section>
			<section>
				<img src="media/korg.jpg" class="r-stretch">
			</section>
			<section>
				<h3>VCO — <em>Voltage-Controlled Oscillator</em></h3>
				<ul>
					<li class="fragment">sterowany napięciem generator RC
					<li class="fragment">jest źródłem zegara, ale o niskiej dokładności
				</ul>
			</section>
			<section>
				<img src="media/vco_plot.gif" class="r-stretch">
			</section>
			<section>
				<h3>PLL — <em>Phase-Locked Loop</em></h3>
			</section>
			<section>
				<img src="media/basic-pll.png" class="r-stretch">
			</section>
			<section>
				<h3>PLL — <em>Phase-Locked Loop</em></h3>
				<ul>
					<li class="fragment">mnoży częstotliwość wzorcową przez \(n\)
					<li class="fragment">w połączeniu z dzielnikiem przez \(m\) pozwala uzyskać współczynnik \(\frac{n}{m}\)
					<li class="fragment">bardzo elastyczne rozwiązanie — <em>must-have</em> dla nowoczesnego mikrokontrolera
				</ul>
			</section>
			<section>
				<h3>PLL — <em>Phase-Locked Loop</em></h3>
				<ul>
					<li class="fragment">skomplikowany obwód analogowo-cyfrowy
					<li class="fragment">często stabilność uzyskuje tylko w pewnym zakresie częstotliwości wejściowej
					<li class="fragment">uzyskanie stabilności zajmuje pewien czas i może być sygnalizowane w odpowiednim rejestrze
				</ul>
			</section>
			<section>
				<h2>Kondycjonowanie i propagacja sygnału zegarowego</h2>
			</section>
			<section>
				<h3>Podsystem zegarowy mikrokontrolera</h3>
			</section>
			<section>
				<img src="media/xmega_clock_system.webp" class="r-stretch">
			</section>
			<section>
				<h3>Propagacja zegara w systemie</h3>
			</section>
			<section>
				<h2>Czas rzeczywisty</h2>
			</section>
			<section>
				<h3>Częstotliwość oscylatora</h3>
				<div class="fragment">Dlaczego \(f = 32{,}768\text{kHz}\)?</div>
				<div class="r-stack">
					<div class="fragment fade-in-then-out">\(t = \frac{32{,}768\text{kHz}}{2^{n}}\)</div>
					<div class="fragment fade-in-then-out">\(t = \frac{32{,}768\text{kHz}}{2^{15}}\)</div>
					<div class="fragment">\(t = \frac{32{,}768\text{kHz}}{2^{15}} = 1\text{s}\)</div>
				</div>
			</section>
			<section>
				<h2>Q&A</h2>
			</section>
		</div></div>
		<script src="dist/reveal.js"></script>
		<script src="plugin/notes/notes.js"></script>
		<script src="plugin/markdown/markdown.js"></script>
		<script src="plugin/highlight/highlight.js"></script>
		<script src="plugin/math/math.js"></script>
		<script>
			// More info about initialization & config:
			// - https://revealjs.com/initialization/
			// - https://revealjs.com/config/
			Reveal.initialize({
				hash: true,
				transition: 'convex',
				backgroundTransition: 'convex',
				mouseWheel: true,
				// Learn about plugins: https://revealjs.com/plugins/
				plugins: [ RevealMarkdown, RevealHighlight, RevealNotes, RevealMath.KaTeX ]
			});
		</script>
	</body>
</html>
